# 3.4 레이블 셀렉터를 이용한 파드 부분 집합 나열

생성일: 2021년 3월 20일 오전 3:53

레이블 셀렉터 : 특정 값과 레이블을 갖는 여부에 따라 리소스를 필터링하는 기준이 됨

[기준]

- 특정한 키를 포함하거나 포함하지 않는 레이블
- 특정한 키와 값을 가진 레이블
- 특정한 키를 갖고 있지만, 다른 값을 가진 레이블

## 1. 레이블 셀렉터를 사용해 파드 나열

수동으로 생성한 파드에 레이블을 사용해서 보기

```bash
kubectl get po -l creation_method=manual
```

![3%204%20%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A6%E1%86%A8%E1%84%90%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%87%E1%85%AE%E1%84%87%E1%85%AE%E1%86%AB%20%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%92%E1%85%A1%E1%86%B8%20817691550219480fb5dc42d0231ecf3e/Untitled.png](3%204%20%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A6%E1%86%A8%E1%84%90%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%87%E1%85%AE%E1%84%87%E1%85%AE%E1%86%AB%20%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%92%E1%85%A1%E1%86%B8%20817691550219480fb5dc42d0231ecf3e/Untitled.png)

위 조건 중 3번째인, 특정 키(env)를 가지고 있지만 값은 뭐든 상관 없는 파드 보기

```bash
kubectl get po -l env
```

![3%204%20%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A6%E1%86%A8%E1%84%90%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%87%E1%85%AE%E1%84%87%E1%85%AE%E1%86%AB%20%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%92%E1%85%A1%E1%86%B8%20817691550219480fb5dc42d0231ecf3e/_2021-03-20__3.57.26.png](3%204%20%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A6%E1%86%A8%E1%84%90%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%87%E1%85%AE%E1%84%87%E1%85%AE%E1%86%AB%20%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%92%E1%85%A1%E1%86%B8%20817691550219480fb5dc42d0231ecf3e/_2021-03-20__3.57.26.png)

env 레이블 안갖고 있는 파드 보기

```bash
kubectl get po -l '!env'
```

이 밖에도 다음 레이블 셀렉터로 일치하는 파드 찾기 가능

1. 레이블을 가지고 있는 파드 중 manual이 아닌것
- creation_method !=manual: creation_method

2. 레이블 값이 prod 또는 devel로 설정돼 있는 파드

- env in (prod,devel): env

3. 레이블 값이 prod, devel이 아닌 파드

- env notin (prod,devel): env

## 2. 레이블 셀렉터에서 여러 조건 사용

: 쉼표로 구분된 여러 기준 포함 가능

`app=pc,rel-beta` 기준 동시 사용시 아래 그림 정 가운데 파드 셀렉 가능

![3%204%20%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A6%E1%86%A8%E1%84%90%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%87%E1%85%AE%E1%84%87%E1%85%AE%E1%86%AB%20%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%92%E1%85%A1%E1%86%B8%20817691550219480fb5dc42d0231ecf3e/Untitled%201.png](3%204%20%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A6%E1%86%A8%E1%84%90%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%87%E1%85%AE%E1%84%87%E1%85%AE%E1%86%AB%20%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%92%E1%85%A1%E1%86%B8%20817691550219480fb5dc42d0231ecf3e/Untitled%201.png)