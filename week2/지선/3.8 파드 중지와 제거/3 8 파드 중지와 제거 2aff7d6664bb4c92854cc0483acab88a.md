# 3.8 파드 중지와 제거

생성일: 2021년 3월 20일 오후 3:11

현재 상황

- default 네임스페이스에 4개 파드 존재
- custom-namespace 안에 하나의 파드 존재

⇒ 더 이상 필요치 않으므로 중지한다

## 1. 이름으로 파드 삭제

```bash
kubectl delete po kubia-gpu
```

## 2. 레이블 셀렉터를 이용한 파드 삭제

```bash
kubectl delete po -l creation_method=manual
```

![3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/_2021-03-20__3.37.33.png](3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/_2021-03-20__3.37.33.png)

두개 모두 한꺼번에 중지 가능

해당 그림에서 rel=canary로 canary 파드를 다 지울 수도 있다

![3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/Untitled.png](3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/Untitled.png)

```bash
kubectl delete po -l rel=canary
```

## 3. 네임스페이스를 삭제한 파드 제거

```bash
kubectl delete ns custom-namespace
```

파드는 네임스페이스와 함께 자동으로 삭제된다

![3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/Untitled%201.png](3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/Untitled%201.png)

## 4. 네임스페이스를 유지하면서 네임스페이스 안에 있는 모든 파드 삭제

`kucectl run` 명령으로 생성한 파드를 삭제 해보자

```bash
kubectl get pods
kubectl delete po --all //현재 네임스페이스에 있는 모든 파드 삭제
```

![3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/Untitled%202.png](3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/Untitled%202.png)

종료되고 있지만 새로운 파드가 계속 생성된다..

![3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/Untitled%203.png](3%208%20%E1%84%91%E1%85%A1%E1%84%83%E1%85%B3%20%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%202aff7d6664bb4c92854cc0483acab88a/Untitled%203.png)

- 레플리케이션컨트롤러/디플로이에 의해 생성된 파드를 삭제하면 즉시 새로운 파드를 생성함
- 파드를 삭제하기 위해서는 레플리케이션컨트롤러/디플로이도 삭제해야한다

## 5. 네임스페이스에서 (거의) 모든 리소스 삭제

하나의 명력으로 현재 네임스페이스에 있는 모든 리소스(레플리케이션컨트롤러, 파드, 생성한 모든 서비스)를 삭제

```bash
kubectl delete all --all
```

`all` : 모든 유형의 리소스 삭제

`--all` : 리소스 이름이 아닌 모든 리소스 인스턴스를 삭제